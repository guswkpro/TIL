# Activity vulnerability

안드로이드의 경우 한 화면을 액티비티라고 부르는데<br>
액티비티를 전환할 때 Intent라는 매개체를 사용하는데 이 때, 명시적 intent와 암시적 intent 두가지로 나누어 진다.<br>

* 명시적 인텐트<br>
구체적으로 대상 컴포넌트를 호출하는 방식을 의미, 아래 코드와 같이 어떤 이벤트가 일어났을 때 두번째 액티비티로 이동하는 방식이다.
```java
Intent intent = new Intent(getApplicationContext(), SecondActivity.class);
startActivity(intent);
```

* 암시적 인텐트<br>
컴포넌트를 구체적으로 호출하지 않고, 관련된 컴포넌트를 사용자에게 제공하여 사용자가 선택하도록 하는 방식이다. 예를 들어, 메일을 보낼때 Gmail, Naver 등 선택지중 하나를 선택하는 방식이다.

```java
Intent intent = new Intent(Intent.ACTION_SEND);
intent.setType("text/html")
...
```

이렇게 다수의 액티비티를 이용한 앱에서 발견되는 취약점이 있다.

예를들어, 비밀번호를 입력해야 넘어갈 수 있는 화면이 있다면 비밀번호 입력을 거치지 않고 바로 두번째 액티비티로 이동하는 방법이다.<br>
이는 아주 간단하게 가능하다. adb shell에서 명령어 한줄로 수행할 수 있다.
```
am start -n 패키지명/화면
```

이를 방지하기 위해서는 AndroidManifest.xml의 파일에서 activity들에게 android:exported="true" 설정값을 주면 된다.
```xml
<activity android:exported="true" android:name="~~~">
```

이때 주의해야할 점은 Main액티비티에 위의 코드를 추가할 경우 앱이 정상작동 되지 않으므로 Main에는 추가하지 않도록 주의한다.
